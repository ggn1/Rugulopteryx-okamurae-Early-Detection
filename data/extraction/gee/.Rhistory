install.packages("rtry")
clear
print("Hello World")
install.packages("BIEN")
BIEN_trait_list()
library(BIEN)
BIEN_trait_list()
# Get a list of available traits.
trait_list <- BIEN_trait_list()
# LOAD PACKAGES
library(BIEN)
library(ape) # Package for working with phylogenies in R.
library(maps) # Useful for making quick maps of occurrences.
install.packages("BIEN")
install.packages("maps")
library(BIEN)
library(ape) # Package for working with phylogenies in R.
library(maps) # Useful for making quick maps of occurrences.
library(sf) # A package for spatial data.
vignette("BIEN")
?BIEN_trait_list
trait_list <- BIEN_trait_list()
install.packages("knitr")
Xanthium_strumarium <- BIEN_occurrence_species(species = "Xanthium strumarium")
library(BIEN)
library(ape) # Package for working with phylogenies in R.
library(maps) # Useful for making quick maps of occurrences.
library(sf) # A package for spatial data.
# Get a list of available traits.
trait_list <- BIEN_trait_list()
clear
clear()
# LOAD PACKAGES
library(BIEN)
library(ape) # Package for working with phylogenies in R.
library(maps) # Useful for making quick maps of occurrences.
library(sf) # A package for spatial data.
# Get a list of available traits.
trait_list <- BIEN_trait_list()
# IMPORTS
library("readr");
library("WorldFlora");
# FILE PATHS
dir_root <- paste("//wsl.localhost/Ubuntu/home/girishng/local",
"/project_cptv/___data/taxonomy", sep='');
file_wfo <- paste(dir_root, "/WFO_Backbone/classification.csv", sep='');
file_try <- paste(dir_root, "/try_species_list_27nov24.tsv", sep='');
# LOAD DATA
WFO.remember(WFO.file=file_wfo);
data_try <- readr::read_tsv(file_try)[, 1:2];
colnames(data_try) <- c("try_id", "try_name");
spec.try <- data.frame(spec.name=data_try$try_name);
file_try2wfo <- paste(dir_root, "/try2wfo.csv", sep='');
# MATCH TRY NAMES TO WFO NAMES.
data_matches <- WFO.match(spec.data=spec.try, WFO.data=WFO.data,
spec.name.tolower=TRUE);
library("readr")
library("WorldFlora")
install.packages("readr")
install.packages("readr")
remove.packages()
remove.packages("readr")
remove.packages("WorldFlora")
getwd()
setwd(\\wsl.localhost\Ubuntu\home\girishng\local\project_cptv\data_extraction\try\r)
setwd("\\wsl.localhost\Ubuntu\home\girishng\local\project_cptv\data_extraction\try\r")
setwd("wsl.localhost/Ubuntu/home/girishng/local/project_cptv/data_extraction/try/r")
clear
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
library(progress)
library(tidyverse)
library(data.table)
source("utils_georef.R")
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
library(progress)
library(tidyverse)
library(data.table)
source("utils_georef.R")
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
library(progress)
library(tidyverse)
library(data.table)
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
library(progress)
library(tidyverse)
library(data.table)
source("utils_georef.R")
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
library(maps)
library(ggplot2)
library(patchwork)
source("utils_georef.R")
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
source("utils_plots.R")
# REQUIRED PACKAGES
library(rtry)
library(hash)
library(dplyr)
source("utils_plots.R")
# TITLE: Inter-feature data augmentation (Leaf Phenology Type).
# DESCRIPTION: More instances are added to extracted leaf phenology data
#              based downloaded data corresponding to other features.
# REQUIRED PACKAGES
library(rtry)
library(dplyr)
library(ggplot2)
library(progress)
source("utils_plots.R")
# Load packages.
library("sf")
library("terra")
library("dplyr")
library("progress")
# Define paths.
dir_here <- file.path("//wsl.localhost/Ubuntu/home",
"girishng/local/learning",
"ai_sandbox_2025/data",
"extraction/gee")
dir_data_root <- "../../db"
dir_data_src <- file.path(dir_data_root, "sentinal/raw")
dir_data_dst <- file.path(dir_data_root, "sentinal/processed")
# Set working directory.
setwd(dir_here)
# Load raster.
data_raster <- rast(file.path(dir_data_src, "S2A_MSIL2A_20240929T105841_N0511_R094_T30SUF_20240929T153659_pt197.tif"))
dir_data_src <- file.path(dir_data_root, "___sentinal/raw")
dir_data_dst <- file.path(dir_data_root, "___sentinal/processed")
data_raster <- rast(file.path(dir_data_src, "S2A_MSIL2A_20240929T105841_N0511_R094_T30SUF_20240929T153659_pt197.tif"))
# Re-project to geographic (decimal degrees, WGS84)
data_raster <- project(data_raster, "EPSG:4326")
# View on map.
plot(data_raster)
# TITLE: COPERNICUS/S3/OLCI
# DESCRIPTION: This file aims to extract useful weather data from
#              "Sentinel-3 OLCI EFR: Ocean and Land Color Instrument
#              Earth Observation Full Resolution" data available on
#              Google Earth Engine at:
#              https://developers.google.com/earth-engine/datasets/
#              catalog/COPERNICUS_S3_OLCI
### SET UP #####################################################################
# Load packages.
library("sf")
library("terra")
library("dplyr")
library("progress")
# Define paths.
dir_here <- file.path("//wsl.localhost/Ubuntu/home",
"girishng/local/learning",
"ai_sandbox_2025/data",
"extraction/gee")
dir_data_root <- "../../db"
dir_data_src <- file.path()
dir_data_dst <- file.path(dir_data_root, "___sentinal/processed")
# Set working directory.
setwd(dir_here)
# LOAD & VIEW SAMPLE RASTER ####################################################
# Load raster.
data_raster <- rast(file.path(dir_data_root, "___trn_val_tst/raw",
"patches_present/2016_0.tif"))
# Re-project to geographic (decimal degrees, WGS84)
data_raster <- project(data_raster, "EPSG:4326")
# View on map.
plot(data_raster)
# Load raster.
data_raster <- rast(file.path(dir_data_root, "___trn_val_tst/raw",
"patches_present/2016_0.tif"))
# View on map.
plot(data_raster)
data_raster
paths_present <- list.files(
file.path(dir_data_root, "___trn_val_tst/raw/patches_present"))
paths_present
filenames <- list.files( # PRESENT
file.path(dir_data_root, "___trn_val_tst/raw/patches_present"))
for name in filenames:
filenames <- list.files( # PRESENT
file.path(dir_data_root, "___trn_val_tst/raw/patches_present"))
for (name in filenames) {
path_save <- file.path(dir_data_root, "___trn_val_tst/processed",
paste0("1-", name))
img_rast <- rast(file.path(dir_data_root, "___trn_val_tst/raw",
"patches_present", name))
terra::writeRaster(img_rast, path_save, filetype = "GTiff", overwrite = TRUE)
}
# ABSENCE DATA
filenames <- list.files(
file.path(dir_data_root, "___trn_val_tst/raw/patches_absent"))
for (name in filenames) {
path_save <- file.path(dir_data_root, "___trn_val_tst/processed",
paste0("0-", name))
img_rast <- rast(file.path(dir_data_root, "___trn_val_tst/raw",
"patches_absent", name))
terra::writeRaster(img_rast, path_save, filetype = "GTiff", overwrite = TRUE)
}
min(data_raster)
img_rast.min
data_raster.min
min(data_raster)
minmax(data_raster, compute=FALSE)
minmax(data_raster)
minFn(data_raster)
minmax(x, compute=TRUE)
minmax(data_raster, compute=TRUE)
filenames <- list.files(file.path(dir_data_root, "___trn_val_tst/processed"))
for(name in filenames) {
print(name)
}
minmax(data_raster, compute=TRUE)
minmax(data_raster, compute=TRUE).min()
minmax(data_raster, compute=TRUE).min
min_max <- minmax(data_raster, compute=TRUE)
min(min_max)
max(min_max)
overall_min <- NULL
overall_max <- NULL
filenames <- list.files(file.path(dir_data_root, "___trn_val_tst/processed"))
for(name in filenames) {
img_rast <- rast(file.path(dir_data_root, "___trn_val_tst/processed", name))
min_max <- minmax(img_rast, compute = TRUE)
img_min <- min(min_max)
img_max <- max(min_max)
if (is.null(overall_min) || img_min < overall_min) {
overall_min <- img_min
} else if (is.null(overall_max) || img_max > overall_max) {
overall_max <- img_max
}
}
cat("Overall Min = ", overall_min)
cat("Overall Max = ", overall_max)
minmax(data_raster, compute=TRUE)
data_raster <- rast(file.path(dir_data_root, "___sentinal/raw",
"2025_roi0.tif"))
plot(data_raster)
